{"id":"mymx-youtube-history-2026-7mh","title":"Export Feature: JSONL export for backup and portability","description":"Add JSONL export feature for watch history data.\n\n## Purpose\n- Easy backup (single file copy)\n- Human-readable format for inspection\n- Portable data format for migration/sharing\n\n## Features\n- Export all watch history to JSONL file\n- One JSON object per line (streaming-friendly)\n- Include all fields from SQLite schema\n- Optional: filter by date range\n\n## Format\n```jsonl\n{\"videoId\":\"abc123\",\"title\":\"Video Title\",\"channelName\":\"Channel\",\"watchedAt\":\"2026-01-31T12:00:00Z\",...}\n{\"videoId\":\"def456\",\"title\":\"Another Video\",\"channelName\":\"Other Channel\",\"watchedAt\":\"2026-01-30T10:00:00Z\",...}\n```\n\n## Acceptance Criteria\n- [ ] Export function writes valid JSONL\n- [ ] Handles large datasets (30k+ entries) efficiently\n- [ ] Optional date range filter\n- [ ] CLI or UI trigger for export","status":"open","priority":3,"issue_type":"task","owner":"janghwan@gmail.com","created_at":"2026-01-31T17:41:11.714739+09:00","created_by":"Kim, Jang-hwan (김장환)","updated_at":"2026-01-31T17:41:11.714739+09:00"}
{"id":"mymx-youtube-history-2026-b6t","title":"Basic UI: History display, import, sync, and search","description":"Implement the renderer process UI for the Electron app.\n\n## Core Views\n1. **Watch History List**\n   - Display videos with thumbnail, title, channel, timestamp\n   - Infinite scroll or pagination\n   - Click to open video on YouTube\n\n2. **Import Panel**\n   - File picker for Google Takeout files\n   - Import progress indicator\n   - Import results summary\n\n3. **Sync Controls**\n   - Manual sync trigger button\n   - Sync status/progress indicator\n   - Last sync timestamp display\n\n4. **Search/Filter**\n   - Text search (title, channel)\n   - Date range filter\n   - Sort options (date, title, channel)\n\n## Tech Considerations\n- Keep UI simple and functional\n- Consider using a lightweight framework (or vanilla)\n- Responsive layout\n\n## Acceptance Criteria\n- [ ] Watch history displays in scrollable list\n- [ ] Can import Google Takeout files via UI\n- [ ] Sync button triggers Playwright automation\n- [ ] Search filters history list\n- [ ] Shows sync status and last sync time","status":"open","priority":2,"issue_type":"task","owner":"janghwan@gmail.com","created_at":"2026-01-31T14:57:28.072236+09:00","created_by":"Kim, Jang-hwan (김장환)","updated_at":"2026-01-31T14:59:16.688949+09:00"}
{"id":"mymx-youtube-history-2026-ihr","title":"Local Storage: SQLite/JSON storage with deduplication","description":"Implement local data storage for watch history using SQLite.\n\n## Storage\n- **SQLite** with better-sqlite3 (synchronous, fast, no async overhead)\n\n## Schema\n```sql\nCREATE TABLE watch_history (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  video_id TEXT NOT NULL,\n  title TEXT NOT NULL,\n  channel_name TEXT,\n  channel_url TEXT,\n  watched_at TEXT NOT NULL,  -- ISO 8601\n  thumbnail_url TEXT,\n  video_url TEXT NOT NULL,\n  is_ad INTEGER DEFAULT 0,\n  source TEXT NOT NULL,  -- 'takeout' or 'playwright'\n  created_at TEXT DEFAULT CURRENT_TIMESTAMP,\n  updated_at TEXT DEFAULT CURRENT_TIMESTAMP,\n  UNIQUE(video_id, watched_at)  -- deduplication\n);\n\nCREATE TABLE sync_meta (\n  key TEXT PRIMARY KEY,\n  value TEXT\n);\n```\n\n## Features\n- Prevent duplicate entries (by video_id + watched_at)\n- Track last sync timestamp in sync_meta\n- Efficient querying for UI display (indexes on watched_at, title, channel_name)\n- Support merging Takeout data with Playwright-scraped data\n\n## Acceptance Criteria\n- [ ] SQLite database with schema implemented\n- [ ] CRUD operations for watch history entries\n- [ ] Deduplication logic works correctly\n- [ ] Last sync timestamp tracking\n- [ ] Query support for search/filter (by date range, text search)\n- [ ] Integration with existing parser module","status":"closed","priority":2,"issue_type":"task","owner":"janghwan@gmail.com","created_at":"2026-01-31T14:57:06.407584+09:00","created_by":"Kim, Jang-hwan (김장환)","updated_at":"2026-01-31T17:44:21.055382+09:00","closed_at":"2026-01-31T17:44:21.055382+09:00","close_reason":"SQLite storage implemented with better-sqlite3. 30k entries insert in 111ms. Full CRUD, search, date filtering, sync metadata tracking."}
{"id":"mymx-youtube-history-2026-mg8","title":"Google Takeout Parser: Import watch history from Takeout export","description":"Implement parser for Google Takeout watch history data.\n\n## Expected Input\n- `watch-history.json` or `watch-history.html` from Google Takeout export\n\n## Data to Extract\n- Video ID (from YouTube URL)\n- Video title\n- Channel name\n- Watch timestamp (normalized format)\n- Video URL\n- Thumbnail URL\n\n## Requirements\n- Handle both JSON and HTML formats\n- Parse timestamps into standardized format (ISO 8601)\n- Handle missing or incomplete data gracefully\n- Detect and skip duplicate entries\n- Extract video ID from various YouTube URL formats\n\n## Acceptance Criteria\n- [ ] Parse JSON format Takeout files\n- [ ] Parse HTML format Takeout files\n- [ ] Extract all required video metadata\n- [ ] Handle edge cases (missing fields, malformed URLs)\n- [ ] Unit tests for parser","status":"closed","priority":2,"issue_type":"task","owner":"janghwan@gmail.com","created_at":"2026-01-31T14:56:59.755743+09:00","created_by":"Kim, Jang-hwan (김장환)","updated_at":"2026-01-31T16:54:19.653434+09:00","closed_at":"2026-01-31T16:54:19.653434+09:00","close_reason":"Implemented JSON parser. HTML parser stubbed (no sample file available). Tested with real 30k entry Takeout file."}
{"id":"mymx-youtube-history-2026-run","title":"Project Setup: Initialize Electron + TypeScript + pnpm + ESM","description":"Set up the initial project structure with:\n\n- Electron framework\n- TypeScript configuration\n- pnpm as package manager\n- ESM module system (import/export)\n\nReference architecture from PRD:\n```\nElectron App\n├── Main Process (Node.js)\n│   ├── Playwright automation\n│   ├── Data scraping \u0026 parsing\n│   └── Local database management\n│\n└── Renderer Process (Web UI)\n    ├── Display watch history\n    ├── Search/filter interface\n    └── Trigger sync operations\n```\n\nAcceptance criteria:\n- [ ] Electron app launches successfully\n- [ ] TypeScript compiles without errors\n- [ ] ESM imports work in both main and renderer processes\n- [ ] Basic window displays","status":"closed","priority":2,"issue_type":"task","owner":"janghwan@gmail.com","created_at":"2026-01-31T14:56:53.481783+09:00","created_by":"Kim, Jang-hwan (김장환)","updated_at":"2026-01-31T15:11:31.815095+09:00","closed_at":"2026-01-31T15:11:31.815095+09:00","close_reason":"Closed"}
{"id":"mymx-youtube-history-2026-v25","title":"Data Extraction: Parse video metadata from YouTube DOM","description":"Implement DOM parsing to extract video data from YouTube history page.\n\n## Data to Extract\n- Video ID\n- Video title\n- Channel name\n- Watch timestamp\n- Thumbnail URL\n- Video URL\n- Duration (optional)\n- View count (optional)\n- Description (optional)\n\n## Requirements\n- Parse YouTube history page DOM structure\n- Handle various video card layouts\n- Extract video ID from href attributes\n- Parse relative timestamps ('2 hours ago', 'Yesterday', etc.)\n- Handle missing or incomplete data\n\n## Fragility Considerations\n- YouTube may change HTML structure at any time\n- Use resilient selectors where possible\n- Log warnings for unexpected DOM structures\n- Document selector patterns for maintenance\n\n## Acceptance Criteria\n- [ ] Extract all required fields from video cards\n- [ ] Parse relative timestamps to absolute dates\n- [ ] Handle edge cases (ads, shorts, etc.)\n- [ ] Unit tests with sample DOM structures","status":"open","priority":2,"issue_type":"task","owner":"janghwan@gmail.com","created_at":"2026-01-31T14:57:20.845892+09:00","created_by":"Kim, Jang-hwan (김장환)","updated_at":"2026-01-31T14:59:16.68948+09:00"}
{"id":"mymx-youtube-history-2026-yhr","title":"Playwright Automation: Incremental history fetch from YouTube","description":"Implement Playwright browser automation to fetch watch history incrementally.\n\n## Core Functionality\n- Launch browser with persistent user data directory (maintain login state)\n- Navigate to `youtube.com/feed/history`\n- Fetch only new entries since last sync timestamp\n- Handle infinite scroll to load more entries\n\n## Requirements\n- Persistent browser profile (user stays logged in across sessions)\n- Stop fetching when reaching already-synced entries\n- Handle page load states and dynamic content\n- Graceful error handling (network issues, page changes)\n\n## User Flow\n1. User triggers sync (manual or scheduled)\n2. Browser opens with persistent session\n3. First time: user signs into YouTube manually\n4. App navigates to history page\n5. Scrolls and extracts until reaching last synced entry\n6. Returns extracted data for storage\n\n## Acceptance Criteria\n- [ ] Playwright launches with persistent user data\n- [ ] Successfully navigates to YouTube history page\n- [ ] User login session persists across app launches\n- [ ] Incremental fetch stops at last synced entry\n- [ ] Handles scroll loading for more entries","status":"open","priority":2,"issue_type":"task","owner":"janghwan@gmail.com","created_at":"2026-01-31T14:57:14.130836+09:00","created_by":"Kim, Jang-hwan (김장환)","updated_at":"2026-01-31T14:59:16.689937+09:00"}
